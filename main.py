# -*- coding: utf-8 -*-
"""main.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1Lk-d0VtmOH__qddlCHEirCHc4cRbnrU5
"""

import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
import scipy as sp

from sklearn.feature_selection import SelectKBest
from sklearn.feature_selection import chi2
from sklearn.feature_selection import RFE
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split
from sklearn.ensemble import RandomForestClassifier
from sklearn import metrics
import seaborn as sns
from sklearn.linear_model import Ridge
names = ['purchase_sequence', 'style_id','article_type','gender','Revenue','Return_Reason','orders','Total Revenue','Return Value','RTO Value','RGM','Items','Return Items','RTO Items','return_q2_cogs','Return_Duration','Inv_Age','mserve','Q2_perc','CA_Q2_perc','scm_cost','GP','is_return' ]
names1 = ['purchase_sequence', 'style_id','article_type','gender','Revenue','Return_Reason','orders','Total Revenue','Return Value','RTO Value','RGM','Items','Return Items','RTO Items','return_q2_cogs','Return_Duration','Inv_Age','mserve','Q2_perc','CA_Q2_perc','scm_cost','GP' ]


url = "https://raw.githubusercontent.com/zeus1912/dataset/main/fdata.csv"
dataframe = pd.read_csv(url, names=names)
array = dataframe.values
X = array[:,0:22]
y = array[:,22]
ridge = Ridge(alpha=1.0)
ridge.fit(X,y)

Ridge(alpha=1.0, copy_X=True, fit_intercept=True, max_iter=None,
   normalize=False, random_state=None, solver='auto', tol=0.001)

def pretty_print_coefs(coefs, names = None, sort = False):
    if names == None:
        names = ["X%s" % x for x in range(len(coefs))]
    lst = zip(coefs, names)
    if sort:
        lst = sorted(lst,  key = lambda x:-np.abs(x[0]))
    return " + ".join("%s * %s" % (round(coef, 3), name)
                                   for coef, name in lst)
    
print ("Ridge model:", pretty_print_coefs(ridge.coef_))

